
# Quaternions Library

Библиотека для работы с кватернионами и исследования задач ориентации в пространстве, включая решение задачи Вахбы, численное интегрирование кинематических уравнений и усреднение показаний датчиков.

## Основные возможности

### Класс Quaternion
- Создание и нормализация кватернионов
- Арифметические операции: умножение, сложение, вычитание
- Преобразование в матрицу поворота
- Вращение векторов
- Вычисление сопряженного кватерниона и нормы

### Вспомогательные функции
- Генерация случайных единичных кватернионов и векторов
- Добавление гауссова шума к векторам с нормализацией
- Вычисление углов между кватернионами
- Метрики для сравнения кватернионов

### Исследовательские модули

#### 1. Численное интегрирование кинематических уравнений
- Точное решение для постоянной угловой скорости
- Методы разложения в ряд Тейлора (2-й порядок)
- Сравнение точности различных численных методов
- Визуализация ошибок интегрирования

#### 2. Решение задачи Вахбы
- Q-метод Давенпорта для определения ориентации
- Обработка зашумленных измерений
- Статистический анализ точности метода

#### 3. Усреднение кватернионов
- Алгоритм усреднения на основе собственных векторов
- Исследование точности при объединении показаний нескольких датчиков
- Сравнение распределений ошибок до и после усреднения

## Установка и использование


### Пример использования
```python
from environment.quaternions import Quaternion
from environment.helpers import random_quaternion, quaternion_angle

# Создание кватернионов
q1 = Quaternion(1, 0, 0, 0)
q2 = random_quaternion()

# Вычисление угла между кватернионами
angle = quaternion_angle(q1, q2)
print(f"Угол между кватернионами: {angle:.2f}°")

# Вращение вектора
vector = [1, 0, 0]
rotated = q1.rotate_vector(vector)
print(f"Вращенный вектор: {rotated}")
```

## Запуск исследований

### Исследование кинематического уравнения
```bash
python research/kinematic_equation.py
```

### Исследование усреднения кватернионов
```bash
python research/averaging_quaternions.py
```

### Исследование задачи Вахбы
```bash
python research/wahba_problem.py
```

## Результаты исследований

### Численное интегрирование
- Сравнение точности методов разложения в ряд Тейлора
- Анализ накопления ошибки при длительном интегрировании
- Визуализация динамики угловой скорости

### Задача Вахбы
- Статистическая оценка точности определения ориентации
- Зависимость точности от уровня шума и количества векторов
- Распределение угловых ошибок

### Усреднение кватернионов
- Улучшение точности при использовании нескольких датчиков
- Сравнение распределений ошибок для одиночного и усредненного решений
- Анализ выигрыша в точности при увеличении количества датчиков
